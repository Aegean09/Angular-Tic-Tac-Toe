// import { resolve } from "dns";
import { Status } from "./game-status";

export class Gamelogic {

    gameField: Array<number>=[];

    currentTurn: number;

    gameStatus: Status;
    //#region winners
    winSituationsOne: Array<Array<number>>=[
        [1,1,1,0,0,0,0,0,0],
        [1,1,1,0,0,0,0,0,1],        [1,1,1,0,0,0,0,1,1],        [1,1,1,0,0,0,1,0,1],        [1,1,1,0,0,1,0,0,1],        [1,1,1,0,1,0,0,0,1],        [1,1,1,1,0,0,0,0,1],
        [1,1,1,0,0,0,0,1,0],        [1,1,1,1,0,0,0,1,0],        [1,1,1,0,1,0,0,1,0],        [1,1,1,0,0,1,0,1,0],        [1,1,1,0,0,0,1,1,0],        [1,1,1,0,0,0,0,1,1],
        [1,1,1,0,0,0,1,0,0],        [1,1,1,1,0,0,1,0,0],        [1,1,1,0,1,0,1,0,0],        [1,1,1,0,0,1,1,0,0],        [1,1,1,0,0,0,1,1,0],        [1,1,1,0,0,0,1,0,1],
        [1,1,1,0,0,1,0,0,0],        [1,1,1,1,0,1,0,0,0],        [1,1,1,0,1,1,0,0,0],        [1,1,1,0,0,1,1,0,0],        [1,1,1,0,0,1,0,1,0],        [1,1,1,0,0,1,0,0,1],
        [1,1,1,0,1,0,0,0,0],        [1,1,1,1,1,0,0,0,0],        [1,1,1,0,1,1,0,0,0],        [1,1,1,0,1,0,1,0,0],        [1,1,1,0,1,0,0,1,0],        [1,1,1,0,1,0,0,0,1],
        [1,1,1,1,0,0,0,0,0],        [1,1,1,1,1,0,0,0,0],        [1,1,1,1,0,1,0,0,0],        [1,1,1,1,0,0,1,0,0],        [1,1,1,1,0,0,0,1,0],        [1,1,1,1,0,0,0,0,1],

        
        [0,0,0,1,1,1,0,0,0],
        [1,0,0,1,1,1,0,0,0],        [1,1,0,1,1,1,0,0,0],        [1,0,1,1,1,1,0,0,0],        [1,0,0,1,1,1,1,0,0],        [1,0,0,1,1,1,0,1,0],        [1,0,0,1,1,1,0,0,1],
        [0,1,0,1,1,1,0,0,0],        [1,1,0,1,1,1,0,0,0],        [0,1,1,1,1,1,0,0,0],        [0,1,0,1,1,1,1,0,0],        [0,1,0,1,1,1,0,1,0],        [0,1,0,1,1,1,0,0,1],
        [0,0,1,1,1,1,0,0,0],        [1,0,1,1,1,1,0,0,0],        [0,1,1,1,1,1,0,0,0],        [0,0,1,1,1,1,1,0,0],        [0,0,1,1,1,1,0,1,0],        [0,0,1,1,1,1,0,0,1],
        [0,0,0,1,1,1,1,0,0],        [1,0,0,1,1,1,1,0,0],        [0,1,0,1,1,1,1,0,0],        [0,0,1,1,1,1,1,0,0],        [0,0,0,1,1,1,1,1,0],        [0,0,0,1,1,1,1,0,1],
        [0,0,0,1,1,1,0,1,0],        [1,0,0,1,1,1,0,1,0],        [0,1,0,1,1,1,0,1,0],        [0,0,1,1,1,1,0,1,0],        [0,0,0,1,1,1,1,1,0],        [0,0,0,1,1,1,0,1,1],
        [0,0,0,1,1,1,0,0,1],        [1,0,0,1,1,1,0,0,1],        [0,1,0,1,1,1,0,0,1],        [0,0,1,1,1,1,0,0,1],        [0,0,0,1,1,1,1,0,1],        [0,0,0,1,1,1,0,1,1],


        [0,0,0,0,0,0,1,1,1],
        [1,0,0,0,0,0,1,1,1],        [1,1,0,0,0,0,1,1,1],        [1,0,1,0,0,0,1,1,1],        [1,0,0,1,0,0,1,1,1],        [1,0,0,0,1,0,1,1,1],        [1,0,0,0,0,1,1,1,1],
        [0,1,0,0,0,0,1,1,1],        [1,1,0,0,0,0,1,1,1],        [0,1,1,0,0,0,1,1,1],        [0,1,0,1,0,0,1,1,1],        [0,1,0,0,1,0,1,1,1],        [0,1,0,0,0,1,1,1,1],
        [0,0,1,0,0,0,1,1,1],        [1,0,1,0,0,0,1,1,1],        [0,1,1,0,0,0,1,1,1],        [0,0,1,1,0,0,1,1,1],        [0,0,1,0,1,0,1,1,1],        [0,0,1,0,0,1,1,1,1],        
        [0,0,0,1,0,0,1,1,1],        [1,0,0,1,0,0,1,1,1],        [0,1,0,1,0,0,1,1,1],        [0,0,1,1,0,0,1,1,1],        [0,0,0,1,1,0,1,1,1],        [0,0,0,1,0,1,1,1,1],
        [0,0,0,0,1,0,1,1,1],        [1,0,0,0,1,0,1,1,1],        [0,1,0,0,1,0,1,1,1],        [0,0,1,0,1,0,1,1,1],        [0,0,0,1,1,0,1,1,1],        [0,0,0,0,1,1,1,1,1],
        [0,0,0,0,0,1,1,1,1],        [1,0,0,0,0,1,1,1,1],        [0,1,0,0,0,1,1,1,1],        [0,0,1,0,0,1,1,1,1],        [0,0,0,1,0,1,1,1,1],        [0,0,0,0,1,1,1,1,1],


        [0,0,0,0,0,0,1,1,1],
        [1,0,0,0,0,0,1,1,1],        [1,1,0,0,0,0,1,1,1],        [1,0,1,0,0,0,1,1,1],        [1,0,0,1,0,0,1,1,1],        [1,0,0,0,1,0,1,1,1],        [1,0,0,0,0,1,1,1,1],
        [0,1,0,0,0,0,1,1,1],        [1,1,0,0,0,0,1,1,1],        [0,1,1,0,0,0,1,1,1],        [0,1,0,1,0,0,1,1,1],        [0,1,0,0,1,0,1,1,1],        [0,1,0,0,0,1,1,1,1],
        [0,0,1,0,0,0,1,1,1],        [1,0,1,0,0,0,1,1,1],        [0,1,1,0,0,0,1,1,1],        [0,0,1,1,0,0,1,1,1],        [0,0,1,0,1,0,1,1,1],        [0,0,1,0,0,1,1,1,1],
        [0,0,0,1,0,0,1,1,1],        [1,0,0,1,0,0,1,1,1],        [0,1,0,1,0,0,1,1,1],        [0,0,1,1,0,0,1,1,1],        [0,0,0,1,1,0,1,1,1],        [0,0,0,1,0,1,1,1,1],
        [0,0,0,0,1,0,1,1,1],        [1,0,0,0,1,0,1,1,1],        [0,1,0,0,1,0,1,1,1],        [0,0,1,0,1,0,1,1,1],        [0,0,0,1,1,0,1,1,1],        [0,0,0,0,1,1,1,1,1],
        [0,0,0,0,0,1,1,1,1],        [1,0,0,0,0,1,1,1,1],        [0,1,0,0,0,1,1,1,1],        [0,0,1,0,0,1,1,1,1],        [0,0,0,1,0,1,1,1,1],        [0,0,0,0,1,1,1,1,1],


        [1,0,0,1,0,0,1,0,0],
        [1,1,0,1,0,0,1,0,0],        [1,1,1,1,0,0,1,0,0],        [1,1,0,1,1,0,1,0,0],        [1,1,0,1,0,1,1,0,0],        [1,1,0,1,0,0,1,1,0],        [1,1,0,1,0,0,1,0,1],        
        [1,0,1,1,0,0,1,0,0],        [1,1,1,1,0,0,1,0,0],        [1,0,1,1,1,0,1,0,0],        [1,0,1,1,0,1,1,0,0],        [1,0,1,1,0,0,1,1,0],        [1,0,1,1,0,0,1,0,1],
        [1,0,0,1,1,0,1,0,0],        [1,1,0,1,1,0,1,0,0],        [1,0,1,1,1,0,1,0,0],        [1,0,0,1,1,1,1,0,0],        [1,0,0,1,1,0,1,1,0],        [1,0,0,1,1,0,1,0,1],
        [1,0,0,1,0,1,1,0,0],        [1,1,0,1,0,1,1,0,0],        [1,0,1,1,0,1,1,0,0],        [1,0,0,1,1,1,1,0,0],        [1,0,0,1,0,1,1,1,0],        [1,0,0,1,0,1,1,0,1],
        [1,0,0,1,0,0,1,1,0],        [1,1,0,1,0,0,1,1,0],        [1,0,1,1,0,0,1,1,0],        [1,0,0,1,1,0,1,1,0],        [1,0,0,1,0,1,1,1,0],        [1,0,0,1,0,0,1,1,1],
        [1,0,0,1,0,0,1,0,1],        [1,1,0,1,0,0,1,0,1],        [1,0,1,1,0,0,1,0,1],        [1,0,0,1,1,0,1,0,1],        [1,0,0,1,0,1,1,0,1],        [1,0,0,1,0,0,1,1,1],


        [0,1,0,0,1,0,0,1,0],
        [1,1,0,0,1,0,0,1,0],        [1,1,1,0,1,0,0,1,0],        [1,1,0,1,1,0,0,1,0],        [1,1,0,0,1,1,0,1,0],        [1,1,0,0,1,0,1,1,0],        [1,1,0,0,1,0,0,1,1],
        [0,1,1,0,1,0,0,1,0],        [1,1,1,0,1,0,0,1,0],        [0,1,1,1,1,0,0,1,0],        [0,1,1,0,1,1,0,1,0],        [0,1,1,0,1,0,1,1,0],        [0,1,1,0,1,0,0,1,1],        
        [0,1,0,1,1,0,0,1,0],        [1,1,0,1,1,0,0,1,0],        [0,1,1,1,1,0,0,1,0],        [0,1,0,1,1,1,0,1,0],        [0,1,0,1,1,0,1,1,0],        [0,1,0,1,1,0,0,1,1],
        [0,1,0,0,1,1,0,1,0],        [1,1,0,0,1,1,0,1,0],        [0,1,1,0,1,1,0,1,0],        [0,1,0,1,1,1,0,1,0],        [0,1,0,0,1,1,1,1,0],        [0,1,0,0,1,1,0,1,1],
        [0,1,0,0,1,0,1,1,0],        [1,1,0,0,1,0,1,1,0],        [0,1,1,0,1,0,1,1,0],        [0,1,0,1,1,0,1,1,0],        [0,1,0,0,1,1,1,1,0],        [0,1,0,0,1,0,1,1,1],
        [0,1,0,0,1,0,0,1,1],        [1,1,0,0,1,0,0,1,1],        [0,1,1,0,1,0,0,1,1],        [0,1,0,1,1,0,0,1,1],        [0,1,0,0,1,1,0,1,1],        [0,1,0,0,1,0,1,1,1],


        [0,0,1,0,0,1,0,0,1],
        [1,0,1,0,0,1,0,0,1],        [1,1,1,0,0,1,0,0,1],        [1,0,1,1,0,1,0,0,1],        [1,0,1,0,1,1,0,0,1],        [1,0,1,0,0,1,1,0,1],        [1,0,1,0,0,1,0,1,1],
        [0,1,1,0,0,1,0,0,1],        [1,1,1,0,0,1,0,0,1],        [0,1,1,1,0,1,0,0,1],        [0,1,1,0,1,1,0,0,1],        [0,1,1,0,0,1,1,0,1],        [0,1,1,0,0,1,0,1,1],
        [0,0,1,1,0,1,0,0,1],        [1,0,1,1,0,1,0,0,1],        [0,1,1,1,0,1,0,0,1],        [0,0,1,1,1,1,0,0,1],        [0,0,1,1,0,1,1,0,1],        [0,0,1,1,0,1,0,1,1],
        [0,0,1,0,1,1,0,0,1],        [1,0,1,0,1,1,0,0,1],        [0,1,1,0,1,1,0,0,1],        [0,0,1,1,1,1,0,0,1],        [0,0,1,0,1,1,1,0,1],        [0,0,1,0,1,1,0,1,1],        
        [0,0,1,0,0,1,1,0,1],        [1,0,1,0,0,1,1,0,1],        [0,1,1,0,0,1,1,0,1],        [0,0,1,1,0,1,1,0,1],        [0,0,1,0,1,1,1,0,1],        [0,0,1,0,0,1,1,1,1],
        [0,0,1,0,0,1,0,1,1],        [1,0,1,0,0,1,0,1,1],        [0,1,1,0,0,1,0,1,1],        [0,0,1,1,0,1,0,1,1],        [0,0,1,0,1,1,0,1,1],        [0,0,1,0,0,1,1,1,1],


        [1,0,0,0,1,0,0,0,1],
        [1,1,0,0,1,0,0,0,1],        [1,1,1,0,1,0,0,0,1],        [1,1,0,1,1,0,0,0,1],        [1,1,0,0,1,1,0,0,1],        [1,1,0,0,1,0,1,0,1],        [1,1,0,0,1,0,0,1,1],
        [1,0,1,0,1,0,0,0,1],        [1,1,1,0,1,0,0,0,1],        [1,0,1,1,1,0,0,0,1],        [1,0,1,0,1,1,0,0,1],        [1,0,1,0,1,0,1,0,1],        [1,0,1,0,1,0,0,1,1],
        [1,0,0,1,1,0,0,0,1],        [1,1,0,1,1,0,0,0,1],        [1,0,1,1,1,0,0,0,1],        [1,0,0,1,1,1,0,0,1],        [1,0,0,1,1,0,1,0,1],        [1,0,0,1,1,0,0,1,1],
        [1,0,0,0,1,1,0,0,1],        [1,1,0,0,1,1,0,0,1],        [1,0,1,0,1,1,0,0,1],        [1,0,0,1,1,1,0,0,1],        [1,0,0,0,1,1,1,0,1],        [1,0,0,0,1,1,0,1,1],
        [1,0,0,0,1,0,1,0,1],        [1,1,0,0,1,0,1,0,1],        [1,0,1,0,1,0,1,0,1],        [1,0,0,1,1,0,1,0,1],        [1,0,0,0,1,1,1,0,1],        [1,0,0,0,1,0,1,1,1],
        [1,0,0,0,1,0,0,1,1],        [1,1,0,0,1,0,0,1,1],        [1,0,1,0,1,0,0,1,1],        [1,0,0,1,1,0,0,1,1],        [1,0,0,0,1,1,0,1,1],        [1,0,0,0,1,0,1,1,1],

        [0,0,1,0,1,0,1,0,0],
        [1,0,1,0,1,0,1,0,0],        [1,1,1,0,1,0,1,0,0],        [1,0,1,1,1,0,1,0,0],        [1,0,1,0,1,1,1,0,0],        [1,0,1,0,1,0,1,1,0],        [1,0,1,0,1,0,1,0,1],
        [0,1,1,0,1,0,1,0,0],        [1,1,1,0,1,0,1,0,0],        [0,1,1,1,1,0,1,0,0],        [0,1,1,0,1,1,1,0,0],        [0,1,1,0,1,0,1,1,0],        [0,1,1,0,1,0,1,0,1],
        [0,0,1,1,1,0,1,0,0],        [1,0,1,1,1,0,1,0,0],        [0,1,1,1,1,0,1,0,0],        [0,0,1,1,1,1,1,0,0],        [0,0,1,1,1,0,1,1,0],        [0,0,1,1,1,0,1,0,1],
        [0,0,1,0,1,1,1,0,0],        [1,0,1,0,1,1,1,0,0],        [0,1,1,0,1,1,1,0,0],        [0,0,1,1,1,1,1,0,0],        [0,0,1,0,1,1,1,1,0],        [0,0,1,0,1,1,1,0,1],
        [0,0,1,0,1,0,1,1,0],        [1,0,1,0,1,0,1,1,0],        [0,1,1,0,1,0,1,1,0],        [0,0,1,1,1,0,1,1,0],        [0,0,1,0,1,1,1,1,0],        [0,0,1,0,1,0,1,1,1],
        [0,0,1,0,1,0,1,0,1],        [1,0,1,0,1,0,1,0,1],        [0,1,1,0,1,0,1,0,1],        [0,0,1,1,1,0,1,0,1],        [0,0,1,0,1,1,1,0,1],        [0,0,1,0,1,0,1,1,1],

        
    ];

    winSituationsTwo: Array<Array<number>>=[
        [2,2,2,0,0,0,0,0,0],
        [2,2,2,0,0,0,0,0,2],        [2,2,2,0,0,0,0,2,2],        [2,2,2,0,0,0,2,0,2],        [2,2,2,0,0,2,0,0,2],        [2,2,2,0,2,0,0,0,2],        [2,2,2,2,0,0,0,0,2],
        [2,2,2,0,0,0,0,2,0],        [2,2,2,2,0,0,0,2,0],        [2,2,2,0,2,0,0,2,0],        [2,2,2,0,0,2,0,2,0],        [2,2,2,0,0,0,2,2,0],        [2,2,2,0,0,0,0,2,2],
        [2,2,2,0,0,0,2,0,0],        [2,2,2,2,0,0,2,0,0],        [2,2,2,0,2,0,2,0,0],        [2,2,2,0,0,2,2,0,0],        [2,2,2,0,0,0,2,2,0],        [2,2,2,0,0,0,2,0,2],
        [2,2,2,0,0,2,0,0,0],        [2,2,2,2,0,2,0,0,0],        [2,2,2,0,2,2,0,0,0],        [2,2,2,0,0,2,2,0,0],        [2,2,2,0,0,2,0,2,0],        [2,2,2,0,0,2,0,0,2],
        [2,2,2,0,2,0,0,0,0],        [2,2,2,2,2,0,0,0,0],        [2,2,2,0,2,2,0,0,0],        [2,2,2,0,2,0,2,0,0],        [2,2,2,0,2,0,0,2,0],        [2,2,2,0,2,0,0,0,2],
        [2,2,2,2,0,0,0,0,0],        [2,2,2,2,2,0,0,0,0],        [2,2,2,2,0,2,0,0,0],        [2,2,2,2,0,0,2,0,0],        [2,2,2,2,0,0,0,2,0],        [2,2,2,2,0,0,0,0,2],

        
        [0,0,0,2,2,2,0,0,0],
        [2,0,0,2,2,2,0,0,0],        [2,2,0,2,2,2,0,0,0],        [2,0,2,2,2,2,0,0,0],        [2,0,0,2,2,2,2,0,0],        [2,0,0,2,2,2,0,2,0],        [2,0,0,2,2,2,0,0,2],
        [0,2,0,2,2,2,0,0,0],        [2,2,0,2,2,2,0,0,0],        [0,2,2,2,2,2,0,0,0],        [0,2,0,2,2,2,2,0,0],        [0,2,0,2,2,2,0,2,0],        [0,2,0,2,2,2,0,0,2],
        [0,0,2,2,2,2,0,0,0],        [2,0,2,2,2,2,0,0,0],        [0,2,2,2,2,2,0,0,0],        [0,0,2,2,2,2,2,0,0],        [0,0,2,2,2,2,0,2,0],        [0,0,2,2,2,2,0,0,2],
        [0,0,0,2,2,2,2,0,0],        [2,0,0,2,2,2,2,0,0],        [0,2,0,2,2,2,2,0,0],        [0,0,2,2,2,2,2,0,0],        [0,0,0,2,2,2,2,2,0],        [0,0,0,2,2,2,2,0,2],
        [0,0,0,2,2,2,0,2,0],        [2,0,0,2,2,2,0,2,0],        [0,2,0,2,2,2,0,2,0],        [0,0,2,2,2,2,0,2,0],        [0,0,0,2,2,2,2,2,0],        [0,0,0,2,2,2,0,2,2],
        [0,0,0,2,2,2,0,0,2],        [2,0,0,2,2,2,0,0,2],        [0,2,0,2,2,2,0,0,2],        [0,0,2,2,2,2,0,0,2],        [0,0,0,2,2,2,2,0,2],        [0,0,0,2,2,2,0,2,2],


        [0,0,0,0,0,0,2,2,2],
        [2,0,0,0,0,0,2,2,2],        [2,2,0,0,0,0,2,2,2],        [2,0,2,0,0,0,2,2,2],        [2,0,0,2,0,0,2,2,2],        [2,0,0,0,2,0,2,2,2],        [2,0,0,0,0,2,2,2,2],
        [0,2,0,0,0,0,2,2,2],        [2,2,0,0,0,0,2,2,2],        [0,2,2,0,0,0,2,2,2],        [0,2,0,2,0,0,2,2,2],        [0,2,0,0,2,0,2,2,2],        [0,2,0,0,0,2,2,2,2],
        [0,0,2,0,0,0,2,2,2],        [2,0,2,0,0,0,2,2,2],        [0,2,2,0,0,0,2,2,2],        [0,0,2,2,0,0,2,2,2],        [0,0,2,0,2,0,2,2,2],        [0,0,2,0,0,2,2,2,2],        
        [0,0,0,2,0,0,2,2,2],        [2,0,0,2,0,0,2,2,2],        [0,2,0,2,0,0,2,2,2],        [0,0,2,2,0,0,2,2,2],        [0,0,0,2,2,0,2,2,2],        [0,0,0,2,0,2,2,2,2],
        [0,0,0,0,2,0,2,2,2],        [2,0,0,0,2,0,2,2,2],        [0,2,0,0,2,0,2,2,2],        [0,0,2,0,2,0,2,2,2],        [0,0,0,2,2,0,2,2,2],        [0,0,0,0,2,2,2,2,2],
        [0,0,0,0,0,2,2,2,2],        [2,0,0,0,0,2,2,2,2],        [0,2,0,0,0,2,2,2,2],        [0,0,2,0,0,2,2,2,2],        [0,0,0,2,0,2,2,2,2],        [0,0,0,0,2,2,2,2,2],


        [0,0,0,0,0,0,2,2,2],
        [2,0,0,0,0,0,2,2,2],        [2,2,0,0,0,0,2,2,2],        [2,0,2,0,0,0,2,2,2],        [2,0,0,2,0,0,2,2,2],        [2,0,0,0,2,0,2,2,2],        [2,0,0,0,0,2,2,2,2],
        [0,2,0,0,0,0,2,2,2],        [2,2,0,0,0,0,2,2,2],        [0,2,2,0,0,0,2,2,2],        [0,2,0,2,0,0,2,2,2],        [0,2,0,0,2,0,2,2,2],        [0,2,0,0,0,2,2,2,2],
        [0,0,2,0,0,0,2,2,2],        [2,0,2,0,0,0,2,2,2],        [0,2,2,0,0,0,2,2,2],        [0,0,2,2,0,0,2,2,2],        [0,0,2,0,2,0,2,2,2],        [0,0,2,0,0,2,2,2,2],
        [0,0,0,2,0,0,2,2,2],        [2,0,0,2,0,0,2,2,2],        [0,2,0,2,0,0,2,2,2],        [0,0,2,2,0,0,2,2,2],        [0,0,0,2,2,0,2,2,2],        [0,0,0,2,0,2,2,2,2],
        [0,0,0,0,2,0,2,2,2],        [2,0,0,0,2,0,2,2,2],        [0,2,0,0,2,0,2,2,2],        [0,0,2,0,2,0,2,2,2],        [0,0,0,2,2,0,2,2,2],        [0,0,0,0,2,2,2,2,2],
        [0,0,0,0,0,2,2,2,2],        [2,0,0,0,0,2,2,2,2],        [0,2,0,0,0,2,2,2,2],        [0,0,2,0,0,2,2,2,2],        [0,0,0,2,0,2,2,2,2],        [0,0,0,0,2,2,2,2,2],


        [2,0,0,2,0,0,2,0,0],
        [2,2,0,2,0,0,2,0,0],        [2,2,2,2,0,0,2,0,0],        [2,2,0,2,2,0,2,0,0],        [2,2,0,2,0,2,2,0,0],        [2,2,0,2,0,0,2,2,0],        [2,2,0,2,0,0,2,0,2],        
        [2,0,2,2,0,0,2,0,0],        [2,2,2,2,0,0,2,0,0],        [2,0,2,2,2,0,2,0,0],        [2,0,2,2,0,2,2,0,0],        [2,0,2,2,0,0,2,2,0],        [2,0,2,2,0,0,2,0,2],
        [2,0,0,2,2,0,2,0,0],        [2,2,0,2,2,0,2,0,0],        [2,0,2,2,2,0,2,0,0],        [2,0,0,2,2,2,2,0,0],        [2,0,0,2,2,0,2,2,0],        [2,0,0,2,2,0,2,0,2],
        [2,0,0,2,0,2,2,0,0],        [2,2,0,2,0,2,2,0,0],        [2,0,2,2,0,2,2,0,0],        [2,0,0,2,2,2,2,0,0],        [2,0,0,2,0,2,2,2,0],        [2,0,0,2,0,2,2,0,2],
        [2,0,0,2,0,0,2,2,0],        [2,2,0,2,0,0,2,2,0],        [2,0,2,2,0,0,2,2,0],        [2,0,0,2,2,0,2,2,0],        [2,0,0,2,0,2,2,2,0],        [2,0,0,2,0,0,2,2,2],
        [2,0,0,2,0,0,2,0,2],        [2,2,0,2,0,0,2,0,2],        [2,0,2,2,0,0,2,0,2],        [2,0,0,2,2,0,2,0,2],        [2,0,0,2,0,2,2,0,2],        [2,0,0,2,0,0,2,2,2],


        [0,2,0,0,2,0,0,2,0],
        [2,2,0,0,2,0,0,2,0],        [2,2,2,0,2,0,0,2,0],        [2,2,0,2,2,0,0,2,0],        [2,2,0,0,2,2,0,2,0],        [2,2,0,0,2,0,2,2,0],        [2,2,0,0,2,0,0,2,2],
        [0,2,2,0,2,0,0,2,0],        [2,2,2,0,2,0,0,2,0],        [0,2,2,2,2,0,0,2,0],        [0,2,2,0,2,2,0,2,0],        [0,2,2,0,2,0,2,2,0],        [0,2,2,0,2,0,0,2,2],        
        [0,2,0,2,2,0,0,2,0],        [2,2,0,2,2,0,0,2,0],        [0,2,2,2,2,0,0,2,0],        [0,2,0,2,2,2,0,2,0],        [0,2,0,2,2,0,2,2,0],        [0,2,0,2,2,0,0,2,2],
        [0,2,0,0,2,2,0,2,0],        [2,2,0,0,2,2,0,2,0],        [0,2,2,0,2,2,0,2,0],        [0,2,0,2,2,2,0,2,0],        [0,2,0,0,2,2,2,2,0],        [0,2,0,0,2,2,0,2,2],
        [0,2,0,0,2,0,2,2,0],        [2,2,0,0,2,0,2,2,0],        [0,2,2,0,2,0,2,2,0],        [0,2,0,2,2,0,2,2,0],        [0,2,0,0,2,2,2,2,0],        [0,2,0,0,2,0,2,2,2],
        [0,2,0,0,2,0,0,2,2],        [2,2,0,0,2,0,0,2,2],        [0,2,2,0,2,0,0,2,2],        [0,2,0,2,2,0,0,2,2],        [0,2,0,0,2,2,0,2,2],        [0,2,0,0,2,0,2,2,2],


        [0,0,2,0,0,2,0,0,2],
        [2,0,2,0,0,2,0,0,2],        [2,2,2,0,0,2,0,0,2],        [2,0,2,2,0,2,0,0,2],        [2,0,2,0,2,2,0,0,2],        [2,0,2,0,0,2,2,0,2],        [2,0,2,0,0,2,0,2,2],
        [0,2,2,0,0,2,0,0,2],        [2,2,2,0,0,2,0,0,2],        [0,2,2,2,0,2,0,0,2],        [0,2,2,0,2,2,0,0,2],        [0,2,2,0,0,2,2,0,2],        [0,2,2,0,0,2,0,2,2],
        [0,0,2,2,0,2,0,0,2],        [2,0,2,2,0,2,0,0,2],        [0,2,2,2,0,2,0,0,2],        [0,0,2,2,2,2,0,0,2],        [0,0,2,2,0,2,2,0,2],        [0,0,2,2,0,2,0,2,2],
        [0,0,2,0,2,2,0,0,2],        [2,0,2,0,2,2,0,0,2],        [0,2,2,0,2,2,0,0,2],        [0,0,2,2,2,2,0,0,2],        [0,0,2,0,2,2,2,0,2],        [0,0,2,0,2,2,0,2,2],        
        [0,0,2,0,0,2,2,0,2],        [2,0,2,0,0,2,2,0,2],        [0,2,2,0,0,2,2,0,2],        [0,0,2,2,0,2,2,0,2],        [0,0,2,0,2,2,2,0,2],        [0,0,2,0,0,2,2,2,2],
        [0,0,2,0,0,2,0,2,2],        [2,0,2,0,0,2,0,2,2],        [0,2,2,0,0,2,0,2,2],        [0,0,2,2,0,2,0,2,2],        [0,0,2,0,2,2,0,2,2],        [0,0,2,0,0,2,2,2,2],


        [2,0,0,0,2,0,0,0,2],
        [2,2,0,0,2,0,0,0,2],        [2,2,2,0,2,0,0,0,2],        [2,2,0,2,2,0,0,0,2],        [2,2,0,0,2,2,0,0,2],        [2,2,0,0,2,0,2,0,2],        [2,2,0,0,2,0,0,2,2],
        [2,0,2,0,2,0,0,0,2],        [2,2,2,0,2,0,0,0,2],        [2,0,2,2,2,0,0,0,2],        [2,0,2,0,2,2,0,0,2],        [2,0,2,0,2,0,2,0,2],        [2,0,2,0,2,0,0,2,2],
        [2,0,0,2,2,0,0,0,2],        [2,2,0,2,2,0,0,0,2],        [2,0,2,2,2,0,0,0,2],        [2,0,0,2,2,2,0,0,2],        [2,0,0,2,2,0,2,0,2],        [2,0,0,2,2,0,0,2,2],
        [2,0,0,0,2,2,0,0,2],        [2,2,0,0,2,2,0,0,2],        [2,0,2,0,2,2,0,0,2],        [2,0,0,2,2,2,0,0,2],        [2,0,0,0,2,2,2,0,2],        [2,0,0,0,2,2,0,2,2],
        [2,0,0,0,2,0,2,0,2],        [2,2,0,0,2,0,2,0,2],        [2,0,2,0,2,0,2,0,2],        [2,0,0,2,2,0,2,0,2],        [2,0,0,0,2,2,2,0,2],        [2,0,0,0,2,0,2,2,2],
        [2,0,0,0,2,0,0,2,2],        [2,2,0,0,2,0,0,2,2],        [2,0,2,0,2,0,0,2,2],        [2,0,0,2,2,0,0,2,2],        [2,0,0,0,2,2,0,2,2],        [2,0,0,0,2,0,2,2,2],

        [0,0,2,0,2,0,2,0,0],
        [2,0,2,0,2,0,2,0,0],        [2,2,2,0,2,0,2,0,0],        [2,0,2,2,2,0,2,0,0],        [2,0,2,0,2,2,2,0,0],        [2,0,2,0,2,0,2,2,0],        [2,0,2,0,2,0,2,0,2],
        [0,2,2,0,2,0,2,0,0],        [2,2,2,0,2,0,2,0,0],        [0,2,2,2,2,0,2,0,0],        [0,2,2,0,2,2,2,0,0],        [0,2,2,0,2,0,2,2,0],        [0,2,2,0,2,0,2,0,2],
        [0,0,2,2,2,0,2,0,0],        [2,0,2,2,2,0,2,0,0],        [0,2,2,2,2,0,2,0,0],        [0,0,2,2,2,2,2,0,0],        [0,0,2,2,2,0,2,2,0],        [0,0,2,2,2,0,2,0,2],
        [0,0,2,0,2,2,2,0,0],        [2,0,2,0,2,2,2,0,0],        [0,2,2,0,2,2,2,0,0],        [0,0,2,2,2,2,2,0,0],        [0,0,2,0,2,2,2,2,0],        [0,0,2,0,2,2,2,0,2],
        [0,0,2,0,2,0,2,2,0],        [2,0,2,0,2,0,2,2,0],        [0,2,2,0,2,0,2,2,0],        [0,0,2,2,2,0,2,2,0],        [0,0,2,0,2,2,2,2,0],        [0,0,2,0,2,0,2,2,2],
        [0,0,2,0,2,0,2,0,2],        [2,0,2,0,2,0,2,0,2],        [0,2,2,0,2,0,2,0,2],        [0,0,2,2,2,0,2,0,2],        [0,0,2,0,2,2,2,0,2],        [0,0,2,0,2,0,2,2,2],

    ];
    //#endregion
    public constructor(){
        this.gameStatus= Status.STOP;
        this.gameField=[0,0,0,0,0,0,0,0,0];
    }
    gameStart():void{
        this.gameField=[0,0,0,0,0,0,0,0,0];
        this.currentTurn= this.randomPlayerStart();
        this.gameStatus= Status.START;
    }
    AIStart():void{
        this.gameField=[0,0,0,0,0,0,0,0,0];
        this.currentTurn=1;
        this.gameStatus= Status.AI;
    }
    randomPlayerStart():number{
        const startPlayer = Math.floor(Math.random()*2)+1;
        return startPlayer;
    }
    setField(position:number, value:number):void{
        this.gameField[position]=value;
    }
    getPlayerColorClass():string{
        let colorClass=""
        if(this.currentTurn===2){
            colorClass='player-two';
        }
        else if(this.currentTurn===1){
            colorClass='player-one';
        }
        return colorClass;
    }

    changeAI():number{
        const random_index=Math.floor(Math.random()*9);
        return random_index;
    }

    changePlayer():void{
        if(this.currentTurn===2){
            this.currentTurn=1;
        }
        else if(this.currentTurn===1){
            this.currentTurn=2;
        }
    }

    async checkEmpty(position:number): Promise<boolean>{
        let isempty=true;
        if(this.gameField[position]===0){
            isempty=true;
        }
        else if(this.gameField[position]===1){
            isempty=false;
        }
        else if(this.gameField[position]===2){
            isempty=false;
        }
        if (isempty){
            return true;
        }
        else{
            return false;
        }
    }
    

    arrayEquals(a:Array<any>,b:Array<any>):boolean{
        return Array.isArray(a) && Array.isArray(b) && a.length===b.length &&
        a.every((value,index)=>value===b[index]);
    }

    async checkGameEndWinner(): Promise<boolean>{
        let isWinner=false;
        
        const checkarray =(this.currentTurn===1)? this.winSituationsOne:this.winSituationsTwo;
        const currentarray: any[]=[];

        this.gameField.forEach((subfield, index)=>{
            if (subfield !== this.currentTurn){
                currentarray[index]=0;
            }
            else{
                currentarray[index]=subfield;
            }
        })

        checkarray.forEach((checkfield,checkindex)=>{
            if(this.arrayEquals(checkfield,currentarray)){
                isWinner= true;
            }
        })

        if (isWinner){
            this.gameEnd();
            return true;
        }
        else{
            return false;
        }
    }

    async checkGameEndFull(): Promise<number>{
        if(await this.checkGameEndWinner()==true){
            return 0;
        }
        let isfull=true;
        if(this.gameField.includes(0)){
            isfull=false;
        }

        if (isfull){
            this.gameEnd();
            return 1;
        }
        else{
            return 2;
        }
    }
    
    gameEnd():void{
        this.gameStatus= Status.STOP;
    }
}
